/* ── Modal shell ─────────────────────────────────────────── */
.dhc-modal { position:fixed; inset:0; z-index:2000; display:flex; align-items:center; justify-content:center; }
.dhc-overlay { position:absolute; inset:0; background:rgba(0,0,0,0.5); }
.dhc-content {
  position:relative; z-index:2001; background:white; border-radius:12px;
  box-shadow:0 24px 64px rgba(0,0,0,0.3);
  width:92%; max-width:820px; max-height:92vh;
  display:flex; flex-direction:column; overflow:hidden;
}
.dhc-loading-wrap { align-items:center; justify-content:center; min-height:300px; }
.dhc-loading { color:#6b7280; font-size:0.9375rem; }

/* ── Header ──────────────────────────────────────────────── */
.dhc-header {
  display:flex; justify-content:space-between; align-items:flex-start;
  padding:1.25rem 1.5rem; border-bottom:1px solid #e5e7eb; flex-shrink:0;
}
.dhc-header h2 { margin:0 0 0.25rem; font-size:1.125rem; color:#111827; }
.dhc-header-sub { margin:0; font-size:0.8125rem; color:#6b7280; }
.dhc-close {
  background:none; border:none; font-size:1.5rem; cursor:pointer;
  color:#6b7280; padding:0 0.25rem; border-radius:6px; line-height:1; flex-shrink:0;
}
.dhc-close:hover { background:#f3f4f6; }

/* ── Tabs ────────────────────────────────────────────────── */
.dhc-tabs { display:flex; border-bottom:1px solid #e5e7eb; flex-shrink:0; padding:0 1rem; overflow-x:auto; }
.dhc-tab {
  padding:0.625rem 0.875rem; border:none; background:none; cursor:pointer;
  font-size:0.8125rem; font-weight:500; color:#6b7280; white-space:nowrap;
  border-bottom:2px solid transparent; margin-bottom:-1px; transition:all 0.15s;
}
.dhc-tab:hover { color:#374151; }
.dhc-tab.active { color:#3b82f6; border-bottom-color:#3b82f6; }

/* ── Body ────────────────────────────────────────────────── */
.dhc-body { flex:1; overflow-y:auto; padding:1.25rem 1.5rem; }
.dhc-section { display:flex; flex-direction:column; gap:1.25rem; }
.dhc-hint { font-size:0.8125rem; color:#6b7280; margin:0; line-height:1.5; }
.dhc-card { padding:1rem; background:#f9fafb; border:1px solid #e5e7eb; border-radius:10px; }
.dhc-card h3 { margin:0 0 0.375rem; font-size:0.9375rem; color:#111827; }
.dhc-card h4 { margin:0 0 0.25rem; font-size:0.875rem; color:#374151; }

/* ── AI Usage Tab ────────────────────────────────────────── */
.dhc-ai-master {
  display:flex; gap:1rem; justify-content:space-between; align-items:flex-start;
  padding:1.25rem; border-radius:10px; border:2px solid;
}
.dhc-ai-master.enabled  { background:#f0fdf4; border-color:#86efac; }
.dhc-ai-master.disabled { background:#fff7ed; border-color:#fed7aa; }
.dhc-ai-master-left { flex:1; }
.dhc-ai-master-title { font-size:1rem; font-weight:600; color:#111827; margin-bottom:0.375rem; }
.dhc-ai-master-desc { font-size:0.875rem; color:#374151; margin:0 0 0.5rem; line-height:1.5; }
.dhc-ai-cost-note {
  font-size:0.8125rem; color:#1d4ed8; background:#dbeafe;
  padding:0.375rem 0.625rem; border-radius:6px; display:inline-block;
}
.dhc-ai-master-right { display:flex; flex-direction:column; align-items:center; gap:0.375rem; flex-shrink:0; }

/* Toggle switch */
.dhc-toggle {
  width:52px; height:28px; border-radius:999px; border:none; cursor:pointer;
  position:relative; transition:background 0.2s; padding:0;
}
.dhc-toggle.on  { background:#10b981; }
.dhc-toggle.off { background:#d1d5db; }
.dhc-toggle-knob {
  position:absolute; top:3px; width:22px; height:22px;
  background:white; border-radius:50%; transition:left 0.2s;
  box-shadow:0 1px 3px rgba(0,0,0,0.2);
}
.dhc-toggle.on  .dhc-toggle-knob { left:27px; }
.dhc-toggle.off .dhc-toggle-knob { left:3px; }
.dhc-toggle-label { font-size:0.8125rem; font-weight:600; color:#374151; }

.dhc-ai-params-section h3 { margin:0 0 0.375rem; font-size:0.9375rem; color:#111827; }
.dhc-ai-param-list { display:flex; flex-direction:column; gap:0.5rem; margin-top:0.75rem; }
.dhc-ai-param-row {
  display:flex; align-items:center; gap:0.75rem;
  padding:0.625rem 0.875rem; background:white; border:1px solid #e5e7eb; border-radius:8px;
}
.dhc-ai-param-row.muted { opacity:0.5; }
.dhc-ai-param-cat { font-size:1rem; flex-shrink:0; }
.dhc-ai-param-info { flex:1; display:flex; flex-direction:column; gap:0.1rem; }
.dhc-ai-param-label { font-size:0.875rem; color:#111827; font-weight:500; }
.dhc-ai-param-method { font-size:0.75rem; color:#6b7280; }
.dhc-ai-param-badges { flex-shrink:0; }

/* ── Parameters Tab ──────────────────────────────────────── */
.dhc-param-group-card { background:#f9fafb; border:1px solid #e5e7eb; border-radius:10px; overflow:hidden; }
.dhc-param-group-header {
  display:flex; align-items:center; gap:0.625rem;
  padding:0.75rem 1rem; background:#f3f4f6; border-bottom:1px solid #e5e7eb;
}
.dhc-param-group-icon { font-size:1rem; }
.dhc-param-group-title { font-size:0.875rem; font-weight:600; color:#374151; flex:1; }
.dhc-param-group-count { font-size:0.75rem; color:#9ca3af; }

.dhc-param-card {
  border-bottom:1px solid #e5e7eb; background:white; transition:opacity 0.15s;
}
.dhc-param-card:last-child { border-bottom:none; }
.dhc-param-card.inactive { opacity:0.55; }
.dhc-param-card-top {
  display:flex; align-items:center; gap:0.75rem;
  padding:0.625rem 1rem; cursor:pointer;
}
.dhc-param-card-info { flex:1; display:flex; align-items:center; gap:0.75rem; flex-wrap:wrap; }
.dhc-param-card-label { font-size:0.875rem; color:#111827; font-weight:500; }
.dhc-param-card-badges { display:flex; gap:0.375rem; flex-wrap:wrap; }
.dhc-param-expand-btn {
  background:none; border:none; cursor:pointer; color:#9ca3af;
  font-size:0.75rem; padding:0.25rem; border-radius:4px;
}
.dhc-param-expand-btn:hover { background:#f3f4f6; color:#374151; }

/* Expanded detail */
.dhc-param-card-detail {
  padding:0.75rem 1rem 1rem 3.25rem;
  background:#fafafa; border-top:1px solid #f3f4f6;
}
.dhc-param-card-desc { font-size:0.875rem; color:#374151; margin:0 0 0.75rem; line-height:1.5; }
.dhc-param-card-meta { display:flex; flex-direction:column; gap:0.5rem; }
.dhc-meta-row { display:flex; gap:0.75rem; align-items:flex-start; }
.dhc-meta-label { font-size:0.75rem; font-weight:600; color:#9ca3af; text-transform:uppercase; letter-spacing:0.05em; width:120px; flex-shrink:0; padding-top:0.125rem; }
.dhc-meta-val { font-size:0.8125rem; color:#374151; }
.dhc-meta-val.positive { color:#10b981; }
.dhc-meta-val.negative { color:#ef4444; }
.dhc-meta-warning { font-size:0.8125rem; color:#92400e; background:#fef3c7; padding:0.375rem 0.625rem; border-radius:6px; }
.dhc-weight-input-inline { display:flex; align-items:center; gap:0.375rem; }
.dhc-weight-input-inline input {
  width:64px; padding:0.25rem 0.5rem; border:1px solid #d1d5db;
  border-radius:6px; font-size:0.875rem; text-align:right;
}

/* Toggle (inline checkbox-style) */
.dhc-param-toggle-wrap { position:relative; display:inline-block; width:36px; height:20px; flex-shrink:0; }
.dhc-param-toggle-wrap input { opacity:0; width:0; height:0; }
.dhc-param-toggle-slider {
  position:absolute; cursor:pointer; inset:0;
  background:#d1d5db; border-radius:999px; transition:0.2s;
}
.dhc-param-toggle-wrap input:checked + .dhc-param-toggle-slider { background:#3b82f6; }
.dhc-param-toggle-slider:before {
  content:''; position:absolute; width:14px; height:14px;
  left:3px; bottom:3px; background:white; border-radius:50%; transition:0.2s;
  box-shadow:0 1px 2px rgba(0,0,0,0.2);
}
.dhc-param-toggle-wrap input:checked + .dhc-param-toggle-slider:before { transform:translateX(16px); }

/* ── Badges ──────────────────────────────────────────────── */
.dhc-badge {
  font-size:0.6875rem; padding:0.125rem 0.5rem;
  border-radius:999px; font-weight:500; white-space:nowrap;
}
.dhc-badge.pos     { background:#d1fae5; color:#065f46; }
.dhc-badge.neg     { background:#fee2e2; color:#991b1b; }
.dhc-badge.auto    { background:#dbeafe; color:#1e40af; }
.dhc-badge.ai      { background:#f3e8ff; color:#7e22ce; }
.dhc-badge.ai-off  { background:#f3f4f6; color:#6b7280; }
.dhc-badge.manual  { background:#fef9c3; color:#854d0e; }
.dhc-badge-ai      { font-size:0.75rem; padding:0.125rem 0.5rem; background:#f3e8ff; color:#7e22ce; border-radius:999px; }
.dhc-badge-warning { font-size:0.75rem; padding:0.125rem 0.5rem; background:#fef3c7; color:#92400e; border-radius:999px; }

/* ── Weights Tab ─────────────────────────────────────────── */
.dhc-total { font-size:0.875rem; font-weight:normal; }
.dhc-total.ok { color:#10b981; }
.dhc-total.error { color:#ef4444; }
.dhc-cat-grid { display:flex; flex-direction:column; gap:0.5rem; margin-top:0.75rem; }
.dhc-cat-row { display:flex; align-items:center; gap:0.625rem; }
.dhc-cat-icon { font-size:0.9375rem; width:22px; }
.dhc-cat-row label { flex:1; font-size:0.875rem; color:#374151; }
.dhc-weight-input { display:flex; align-items:center; gap:0.25rem; }
.dhc-weight-input input {
  width:64px; padding:0.375rem 0.5rem; border:1px solid #d1d5db;
  border-radius:6px; font-size:0.875rem; text-align:right;
}
.dhc-weight-input span { font-size:0.8125rem; color:#6b7280; }
.dhc-threshold-grid { display:flex; flex-direction:column; gap:0.5rem; margin-top:0.75rem; }
.dhc-threshold-row { display:flex; align-items:center; gap:0.625rem; }
.dhc-health-dot { width:12px; height:12px; border-radius:50%; flex-shrink:0; }
.dhc-health-dot.healthy { background:#10b981; }
.dhc-health-dot.watch   { background:#f59e0b; }
.dhc-health-dot.risk    { background:#ef4444; }
.dhc-threshold-row label { font-size:0.875rem; color:#374151; width:80px; }
.dhc-threshold-row input {
  width:64px; padding:0.375rem 0.5rem; border:1px solid #d1d5db;
  border-radius:6px; font-size:0.875rem; text-align:right;
}

/* ── Title keywords ──────────────────────────────────────── */
.dhc-tags { display:flex; flex-wrap:wrap; gap:0.5rem; align-items:center; margin-top:0.625rem; }
.dhc-tag { display:flex; align-items:center; gap:0.25rem; }
.dhc-tag input {
  padding:0.25rem 0.5rem; border:1px solid #d1d5db;
  border-radius:6px; font-size:0.8125rem; width:130px;
}
.dhc-tag button { background:none; border:none; cursor:pointer; color:#9ca3af; font-size:1rem; line-height:1; padding:0 0.125rem; }
.dhc-tag button:hover { color:#ef4444; }
.dhc-add-tag {
  background:none; border:1px dashed #d1d5db; border-radius:6px;
  padding:0.25rem 0.75rem; font-size:0.8125rem; cursor:pointer; color:#6b7280;
}
.dhc-add-tag:hover { border-color:#3b82f6; color:#3b82f6; }

/* ── Segments ────────────────────────────────────────────── */
.dhc-seg-grid { display:flex; flex-direction:column; gap:0.625rem; margin-top:0.75rem; }
.dhc-seg-row {
  display:flex; align-items:center; justify-content:space-between;
  padding:0.625rem 0.75rem; background:white; border:1px solid #e5e7eb; border-radius:8px;
}
.dhc-seg-row label { font-size:0.875rem; color:#374151; font-weight:500; margin:0 0 0.1rem; display:block; }
.dhc-seg-row input {
  width:100px; padding:0.375rem 0.5rem; border:1px solid #d1d5db;
  border-radius:6px; font-size:0.875rem; text-align:right; flex-shrink:0;
}

/* ── Competitors ─────────────────────────────────────────── */
.dhc-comp-form { display:flex; gap:0.5rem; flex-wrap:wrap; margin-top:0.625rem; }
.dhc-comp-form input {
  flex:1; min-width:130px; padding:0.5rem 0.75rem;
  border:1px solid #d1d5db; border-radius:8px; font-size:0.875rem;
}
.dhc-comp-list { display:flex; flex-direction:column; gap:0.5rem; }
.dhc-comp-row {
  display:flex; align-items:center; justify-content:space-between;
  padding:0.75rem 1rem; background:white; border:1px solid #e5e7eb; border-radius:8px;
}
.dhc-comp-info { display:flex; flex-direction:column; gap:0.1rem; }
.dhc-comp-name { font-weight:600; font-size:0.9375rem; color:#111827; }
.dhc-comp-aliases { font-size:0.8125rem; color:#6b7280; }
.dhc-comp-website { font-size:0.8125rem; color:#3b82f6; }
.dhc-comp-actions { display:flex; gap:0.5rem; }
.dhc-comp-edit { display:flex; flex-direction:column; gap:0.5rem; width:100%; }
.dhc-comp-edit input { padding:0.5rem; border:1px solid #d1d5db; border-radius:6px; font-size:0.875rem; }
.dhc-comp-edit-actions { display:flex; gap:0.5rem; }
.dhc-empty { text-align:center; padding:2rem; color:#9ca3af; font-size:0.875rem; }

/* ── Buttons ─────────────────────────────────────────────── */
.dhc-btn-primary {
  padding:0.5rem 1.25rem; background:#3b82f6; color:white;
  border:none; border-radius:8px; font-size:0.875rem;
  font-weight:500; cursor:pointer; transition:background 0.15s;
}
.dhc-btn-primary:hover:not(:disabled) { background:#2563eb; }
.dhc-btn-primary:disabled { opacity:0.5; cursor:not-allowed; }
.dhc-btn-secondary {
  padding:0.5rem 1.25rem; background:white; color:#374151;
  border:1px solid #d1d5db; border-radius:8px; font-size:0.875rem;
  font-weight:500; cursor:pointer; transition:background 0.15s;
}
.dhc-btn-secondary:hover { background:#f9fafb; }
.dhc-btn-icon {
  background:none; border:none; cursor:pointer; font-size:1rem;
  padding:0.25rem; border-radius:4px;
}
.dhc-btn-icon:hover { background:#f3f4f6; }

/* ── Footer ──────────────────────────────────────────────── */
.dhc-footer {
  display:flex; justify-content:flex-end; gap:0.75rem;
  padding:1rem 1.5rem; border-top:1px solid #e5e7eb; flex-shrink:0;
}
.dhc-error {
  margin:0 1.5rem 0.5rem; padding:0.75rem 1rem; background:#fef2f2;
  border:1px solid #fecaca; border-radius:8px; color:#991b1b; font-size:0.875rem;
}
.dhc-success {
  margin:0 1.5rem 0.5rem; padding:0.75rem 1rem; background:#f0fdf4;
  border:1px solid #bbf7d0; border-radius:8px; color:#166534; font-size:0.875rem;
}
